
# ğŸ“¦ Kumotsudai App (Amplify Gen2 + React)

ã“ã®ã‚¢ãƒ—ãƒªã¯ã€ã‚«ãƒ«ãƒˆçš„ä¸–ç•Œè¦³ã‚’æŒã¤ä¾›ç‰©æŠ•ç¨¿ã‚¢ãƒ—ãƒªã€Œä¾›ç‰©å°ã€ã®æœ€å°æ§‹æˆã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚
Amplify Gen2 + React + TypeScript ã§æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

## âœ… æ©Ÿèƒ½æ¦‚è¦

- ğŸ” **èªè¨¼æ©Ÿèƒ½**ï¼šCognitoã‚’åˆ©ç”¨ã—ãŸæ–°è¦ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- ğŸ’¾ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ä¿å­˜**ï¼šAmplify Data (DynamoDB) ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ç™»éŒ²
- ğŸ¨ **UIæ§‹æˆ**ï¼šç°¡æ˜“çš„ãªãƒ­ã‚°ã‚¤ãƒ³ãƒ»ç™»éŒ²ç”»é¢ã‚ã‚Šï¼ˆå¾Œã‹ã‚‰Figma Makeãªã©ã§å·®ã—æ›¿ãˆå¯èƒ½ï¼‰
- ğŸ§  **çŠ¶æ…‹ç®¡ç†**ï¼šAppContextã«ã‚ˆã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹åˆ¶å¾¡

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
kumotsudai_rebuild/
â”œâ”€â”€ amplify/
â”‚   â””â”€â”€ data/
â”‚       â””â”€â”€ resource.ts      # Amplify Data ãƒ¢ãƒ‡ãƒ«å®šç¾©ï¼ˆUserï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ AppContext.tsx   # èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ LoginScreen.tsx  # ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
â”‚   â”‚   â””â”€â”€ RegisterScreen.tsx # æ–°è¦ç™»éŒ²ç”»é¢
â”‚   â”œâ”€â”€ App.tsx              # ç”»é¢é·ç§»ãƒ»Provider åŒ…å«
â”‚   â””â”€â”€ main.tsx             # ã‚¢ãƒ—ãƒªèµ·å‹•ã¨Amplifyè¨­å®š
â””â”€â”€ README.md
```

---

## âš™ï¸ Amplifyé–¢é€£

ã“ã®æ§‹æˆã¯ Amplify Gen2 (`amplify pull --sandbox`) ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚

- `amplify_outputs.json` ã¯æ—¢ã« `main.tsx` ã«ã¦ `Amplify.configure()` ã«é©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
- `generateClient<Schema>()` ã«ã‚ˆã£ã¦ Amplify Dataï¼ˆDynamoDBï¼‰ã¨ã®æ¥ç¶šãŒå¯èƒ½ã§ã™ã€‚

---

## ğŸ“Œ ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã®èª¬æ˜

### 1. `AppContext.tsx`
- å…¨ã‚¢ãƒ—ãƒªã®çŠ¶æ…‹ç®¡ç†ï¼ˆ`isAuthenticated`, `currentUser`ï¼‰ã‚’æ‹…å½“ã€‚
- `register()` ã¯ `Auth.signUp` + DynamoDBã¸ã®ä¿å­˜ã‚’ä¸¡æ–¹å®Ÿè¡Œã€‚
- `login()` ã¯ Cognitoã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã€çŠ¶æ…‹ã‚’æ›´æ–°ã€‚
- `updateProfile()` ã¯ local stateæ›´æ–°ï¼ˆâ€» DBåæ˜ ã¯æœªå®Ÿè£…ï¼‰

### 2. `resource.ts`
- `User` ãƒ¢ãƒ‡ãƒ«å®šç¾©ã®ã¿å®Ÿè£…ã€‚
- å¿…è¦ã«å¿œã˜ã¦ `Offering` ã‚„ `Comment` ã‚’è¿½åŠ å¯èƒ½ã€‚

### 3. `main.tsx`
- ã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã€‚
- `amplify_outputs.json` ã‚’åˆ©ç”¨ã—ã¦ Amplifyå…¨ä½“ã‚’æ§‹æˆã€‚

### 4. `App.tsx`
- `AppProvider` ã‚’å…¨ä½“ã§åŒ…ã¿ã¤ã¤ã€ç¾åœ¨ã®ç”»é¢ã‚’ `currentScreen` ã§å‡ºã—åˆ†ã‘ã€‚

### 5. `RegisterScreen.tsx`
- ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã¨ `register()` å‘¼ã³å‡ºã—ã€‚
- `name`, `email`, `password`, `department`, `age`, `avatar` ã‚’å…¥åŠ›ã€‚

### 6. `LoginScreen.tsx`
- `email` ã¨ `password` ã§ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½ã€‚
- æˆåŠŸ/å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚ã‚Šã€‚

---

## ğŸ”§ ä»Šå¾Œã®è¿½åŠ äºˆå®š

- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—ï¼ˆ`listUsers`ï¼‰
- âœ… OfferingæŠ•ç¨¿ï¼ˆä¾›ç‰©ï¼‰ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ã„ã„ã­
- âœ… UIãƒ†ãƒ¼ãƒåˆ‡æ›¿ï¼ˆç§‹ãƒ»å†¬ï¼‰
- âœ… Figma Make ã¨ä¸–ç•Œè¦³çµ±åˆ

---

## âœ¨ é–‹ç™ºæ‰‹é †

```bash
git clone <this-repo>
cd kumotsudai_rebuild
npm install
npm run dev
```

Amplify ã¯äº‹å‰ã« `amplify pull --sandbox` ã‚’æ¸ˆã¾ã›ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ åˆ¶ä½œãƒ»ç›£ä¿®

- æä¾›: ã‚ãªãŸï¼ˆä¸–ç•Œè¦³æ§‹ç¯‰è€…ï¼‰
- æ”¯æ´: ChatGPTï¼ˆè¨­è¨ˆ/å®Ÿè£…æ”¯æ´ï¼‰

